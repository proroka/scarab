<launch>
  <arg name="robot" default="scarab0" />
  <arg name="map" default="/map" />
  <arg name="odom" default="/odom_laser" />
  <arg name="base_frame" default="$(arg robot)/base_link" />
  <arg name="map_frame" default="map_hokuyo" />

    <node name="pose" pkg="hfn" type="tf_posestamped_node.py">
        <param name="base_frame_id" value="$(arg base_frame)"/>
        <param name="map_frame_id" value="$(arg map_frame)"/>
    </node>
    <node name="hfn" pkg="hfn" type="hfn">
      <param name="base_frame_id" value="$(arg base_frame)" />
      <param name="map_frame_id" value="$(arg map_frame)" />

      <param name="tau_1" value="1.0" />
      <param name="tau_2" value="0.2" />
      <!-- old and good -->
      <!-- <param name="tau_1" value="1.5" /> -->
      <!-- <param name="tau_2" value="0.3" /> -->
      <param name="cost_occ_prob" value="0.01" />
      <param name="cost_occ_dist" value="0.15" />
      <param name="max_occ_dist" value="0.5" />
      <param name="lethal_occ_dist" value="0.35" />

      <param name="v_opt" value="0.5" />
      <param name="w_max" value="1.0" />
      <!-- 0.0873 rad ~= 5 degrees -->
      <!-- <param name="goal_tolerance_ang" value="0.0873" /> -->
      <param name="goal_tolerance_ang" value="0.2" />
      <param name="min_map_update" value="2.0" />
      <param name="stuck_start" value="3.0" />
      <remap from="odom" to="$(arg robot)/odom_motor" />
      <remap from="map" to="$(arg map)" />
      <param name="stop_on_preempt" value="false" />
      <remap from="cmd_vel" to="$(arg robot)/cmd_vel" />
    </node>

    <node name="goal_to_action" pkg="hfn" type="goal_to_action.py" />
</launch>
